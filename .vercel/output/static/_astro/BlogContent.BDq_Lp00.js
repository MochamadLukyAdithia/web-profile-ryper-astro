import{j as t}from"./jsx-runtime.D_zvdyIk.js";const u=(e,s,r,o)=>{if(!e||e.length===0)return{postsToShow:[],totalPages:1,currentPage:1};const a=s==="all",n=!!r&&r.length>0,l=e.filter(c=>{const m=a||c.category.toLowerCase()===s;if(m&&n){const j=r.toLowerCase();return c.judul.toLowerCase().includes(j)||c.deskripsi.toLowerCase().includes(j)}return m}),i=9,b=l.length,h=Math.max(1,Math.ceil(b/i)),g=Math.min(Math.max(1,isNaN(o)?1:o),h),x=(g-1)*i;return{postsToShow:l.slice(x,x+i),totalPages:h,currentPage:g}},f=e=>{const s=new Date(e);return`${new Intl.DateTimeFormat("id-ID",{weekday:"long",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(s)} WIB`};function p({post:e}){return t.jsx("div",{className:"blog-card rounded-2xl overflow-hidden fade-in cursor-pointer transition-transform hover:scale-[1.02]",children:t.jsxs("a",{href:`/blogs/${e.id_blog}`,className:"block",children:[t.jsxs("div",{className:"image-wrapper relative",children:[t.jsx("img",{src:e.gambar,alt:"Blog Image"}),t.jsx("div",{className:"category-badge absolute top-2 right-2 bg-white text-black px-3 py-1 text-xs font-semibold rounded-full shadow",children:e.category})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-xl font-bold mb-3 line-clamp-2 text-black hover:text-blue-400 transition-colors",children:e.judul}),t.jsx("p",{className:"text-black text-sm mb-4",children:f(e.createdAt)}),t.jsx("p",{className:"text-black text-sm leading-relaxed line-clamp-6",children:e.deskripsi})]})]})})}function w({posts:e}){return t.jsxs("section",{id:"blog-grid",className:"grid grid-cols-1  md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12 ",children:[e.map(s=>t.jsx(p,{post:s})),e.length===0&&t.jsx("div",{className:"col-span-full text-center text-gray-400",children:"Tidak ada postingan yang cocok."})]})}function d(e,s){const r=new URLSearchParams(e);return Object.entries(s).forEach(([o,a])=>{a==null||a===""?r.delete(o):r.set(o,String(a))}),`?${r.toString()}`}function v({currentPage:e,totalPages:s,baseQueryString:r}){const o=new URLSearchParams(r);return t.jsx("section",{id:"pagination",className:"flex justify-center space-x-2 pb-20 ",children:s>1&&t.jsxs(t.Fragment,{children:[t.jsx("a",{className:`pagination-btn ${e===1?"opacity-50 cursor-not-allowed":"bg-gray-800 text-gray-400 hover:bg-white hover:text-gray-900"}`,"aria-disabled":e===1,href:e===1?"#":d(o,{page:e-1}),children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),Array.from({length:s},(a,n)=>n+1).slice(Math.max(0,e-3),Math.max(0,e-3)+5).map(a=>t.jsx("a",{href:d(o,{page:a}),className:`pagination-btn ${a===e?"active":"bg-gray-800 text-gray-400 hover:bg-white hover:text-gray-900"}`,children:a},a)),t.jsx("a",{className:`pagination-btn ${e===s?"opacity-50 cursor-not-allowed":"bg-gray-800 text-gray-400 hover:bg-white hover:text-gray-900"}`,"aria-disabled":e===s,href:e===s?"#":d(o,{page:e+1}),children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})})}const N=({blogs:e,currentFilter:s,searchQuery:r,pageParam:o,baseQueryString:a})=>{const{postsToShow:n,totalPages:l,currentPage:i}=u(e,s,r,o);return t.jsxs(t.Fragment,{children:[t.jsx(w,{posts:n}),t.jsx(v,{currentPage:i,totalPages:l,baseQueryString:a})]})};export{N as BlogContent};
